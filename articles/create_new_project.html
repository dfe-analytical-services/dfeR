<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Creating a new dfeR project • dfeR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Creating a new dfeR project">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dfeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/connecting_to_sql.html">Connecting to SQL</a></li>
    <li><a class="dropdown-item" href="../articles/create_new_project.html">Creating a new dfeR project</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dfe-analytical-services/dfeR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Creating a new dfeR project</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dfe-analytical-services/dfeR/blob/v1.2.0/vignettes/create_new_project.Rmd" class="external-link"><code>vignettes/create_new_project.Rmd</code></a></small>
      <div class="d-none name"><code>create_new_project.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction-and-prerequisites">Introduction and prerequisites<a class="anchor" aria-label="anchor" href="#introduction-and-prerequisites"></a>
</h2>
<p>The <code>dfeR</code> package can be used to create a new R project
using the <code><a href="../reference/create_project.html">create_project()</a></code> function. This function helps
you set up a pre-populated project with a custom folder structure,
making it easier to start your analysis or publication. In order to use
this function, you will need to ensure you have the right software
installed, and have an understanding of R projects and
<code>renv</code>.</p>
<p>If you are familiar with all of the above, you can go to the <a href="#using-the-create_project-function">Using the create_project()
function</a> section of this page or the <a href="https://dfe-analytical-services.github.io/dfeR/reference/create_project.html">create_project()
reference</a> for an overview of the usage, arguments and examples.</p>
<p>You can create a project using the <code><a href="../reference/create_project.html">create_project()</a></code>
function using code or using the ‘New Project Wizard’ in RStudio. The
‘New Project Wizard’ is a user-friendly way to set up a new project
without writing any code. This guide covers both methods.</p>
<div class="section level3">
<h3 id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a>
</h3>
<p>Before you begin, ensure you have the following installed.</p>
<ul>
<li>R for Windows (x64) - version 4.0.0 or higher</li>
<li>RTools (for Windows users and the version must match the R
version)</li>
<li>RStudio</li>
<li>The <code>dfeR</code> package</li>
</ul>
<p>See the information below for installing if you don’t have these
already.</p>
</div>
<div class="section level3">
<h3 id="what-is-rstudio">What is RStudio?<a class="anchor" aria-label="anchor" href="#what-is-rstudio"></a>
</h3>
<p>RStudio is an integrated development environment (IDE) for R. It
provides a user-friendly interface for writing and running R code,
managing files, and visualising data. You can download R (language) and
RStudio (IDE) from the DfE software center. You also must download
RTools (a helpful R extension) at the same time to use renv.</p>
</div>
<div class="section level3">
<h3 id="how-do-i-install-dfer">How do I install dfeR?<a class="anchor" aria-label="anchor" href="#how-do-i-install-dfer"></a>
</h3>
<p><code>dfeR</code> is available on CRAN and you can install directly
from there by typing the below code into the console window in
RStudio:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"dfeR"</span><span class="op">)</span></span></code></pre></div>
<p>The <a href="https://dfe-analytical-services.github.io/dfeR/index.html">dfeR
documentation</a> gives more details on options for installing.</p>
</div>
<div class="section level3">
<h3 id="what-is-an-r-project">What is an R project?<a class="anchor" aria-label="anchor" href="#what-is-an-r-project"></a>
</h3>
<p>An R project is a working directory designated for a specific
analysis or project. It keeps all your scripts, data, functions and
outputs together in one place. RStudio allows you to switch between your
projects easily, meaning you can keep your different pieces of work
separate from each other.</p>
<p>Whenever you are using RStudio, you should work in an R project. This
makes sure you are set up in the correct working directory, so your code
is pointing at the right folders and files. You can find out more in <a href="https://support.posit.co/hc/en-us/articles/200526207-Using-RStudio-Projects" class="external-link">this
guide for using projects in R</a>.</p>
</div>
<div class="section level3">
<h3 id="what-is-renv">What is renv?<a class="anchor" aria-label="anchor" href="#what-is-renv"></a>
</h3>
<p>Packages and versions of R regularly update. Over time, this can
cause code to break - e.g., if different dependencies are required for
later versions of packages to work. Using renv creates a “snapshot” of
your code and packages at the time you created it, which anyone can then
recreate when they come to use your code. This means that you can be
sure that the code you wrote will work in the future, even if packages
are updated.</p>
<p>You should use the renv package for package version control in R. It
creates a project-specific library, meaning that installing a new or
updated package for one project won’t break your other projects. This is
particularly useful for reproducibility and collaboration, as it ensures
that your project will work with the same package versions on different
machines. You can find out more about renv on the <a href="https://dfe-analytical-services.github.io/analysts-guide/learning-development/r.html#renv" class="external-link">Analysts’
Guide</a>.</p>
</div>
<div class="section level3">
<h3 id="what-is-testthat">What is testthat?<a class="anchor" aria-label="anchor" href="#what-is-testthat"></a>
</h3>
<p><code>testthat</code> is an R package that helps you write and run
tests to ensure your code works correctly. It allows you to create tests
that check if your functions produce the expected results, run these
tests to catch errors early, and gives you confidence that your code is
reliable and behaves as intended. It’s a valuable tool for maintaining
high-quality, bug-free code.</p>
<p>See this <a href="https://r-pkgs.org/testing-basics.html" class="external-link">guide on
testing</a> by Hadley Wickham for getting started.</p>
</div>
<div class="section level3">
<h3 id="what-is-a-github--gitignore-file">What is a GitHub .gitignore file?<a class="anchor" aria-label="anchor" href="#what-is-a-github--gitignore-file"></a>
</h3>
<p>A .gitignore file is a text file that tells Git which files or
directories to ignore in a project. It helps you avoid committing
sensitive information, temporary files, or other unnecessary files to
your Git repository. By creating a .gitignore file, you can keep your
repository clean and focused on the essential files needed for your
project. Find more guidance on how to avoid revealing sensitive
information on the <a href="https://dfe-analytical-services.github.io/analysts-guide/RAP/rap-statistics.html#avoid-revealing-sensitive-information" class="external-link">Analysts’
Guide</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="using-the-create_project-function">Using the create_project() function<a class="anchor" aria-label="anchor" href="#using-the-create_project-function"></a>
</h2>
<p>The <code><a href="../reference/create_project.html">create_project()</a></code> function is a part of the
<code>dfeR</code> package and is used to create a new R project with a
custom folder structure. It is designed to help you set up your project
quickly and efficiently, with all the necessary components in place.</p>
<p>The function works by:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Setting up the core project structure</strong>: The core
project structure will either create an ad-hoc project folder structure,
which includes folders for data, analysis and output, or a larger folder
structure for publication projects, which includes more folders for
different data, analysis, documentation and outputs.</p></li>
<li><p><strong>Adding initial files</strong>: The script creates some
initial files, such as a template README file to help you get started
with your project. It also initialises the <code>testthat</code>
package, which is used for unit testing in R.</p></li>
<li><p><strong>Customisation</strong>: Other files or processes can also
be initialised depending on whether you set extra arguments as
<code>TRUE</code> or <code>FALSE</code>. For example, you can use
customisation to create a GitHub .gitignore file or initialise the
<code>renv</code> package.</p></li>
</ol>
<div class="section level3">
<h3 id="where-to-save-your-project">Where to save your project<a class="anchor" aria-label="anchor" href="#where-to-save-your-project"></a>
</h3>
<p>You should store any projects that use Git outside of OneDrive. To
create a folder in your C drive, type: ‘C:/Users/[username]’ into the
File Explorer search bar and create a folder called ‘repos’. For
example, if your user was JBLOGGS, you’d type ‘C:/Users/JBLOGGS’.</p>
</div>
<div class="section level3">
<h3 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a>
</h3>
<p>When creating a project using the <code><a href="../reference/create_project.html">create_project()</a></code>
function, you will need to decide on several parameters. These
parameters are necessary whether you use code or the ‘New Project
Wizard’ to create your project. If you are using the ‘New Project
Wizard’, the parameters which need a
<code>TRUE</code>/<code>FALSE</code> input will be set to
<code>TRUE</code> by ticking a checkbox. The table below explains each
of the parameters, their meaning and what you should take into account
for each.</p>
<table class="table">
<thead><tr>
<th style="text-align:left;">
Parameter
</th>
<th style="text-align:left;">
Meaning
</th>
<th style="text-align:left;">
Considerations
</th>
<th style="text-align:left;">
Output
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
path
</td>
<td style="text-align:left;">
Folder pathway
</td>
<td style="text-align:left;">
Where do you want to store your project?
</td>
<td style="text-align:left;">
This will be the folder your new project is created within.
</td>
</tr>
<tr>
<td style="text-align:left;">
init_renv
</td>
<td style="text-align:left;">
Initiate renv in the project
</td>
<td style="text-align:left;">
Do you want to use renv for package version control?
</td>
<td style="text-align:left;">
If set to <code>TRUE</code>, renv will be initialised in your project.
</td>
</tr>
<tr>
<td style="text-align:left;">
include_structure_for_pkg
</td>
<td style="text-align:left;">
Additional folder for package development
</td>
<td style="text-align:left;">
Are you creating this project to work on a package?
</td>
<td style="text-align:left;">
If set to <code>TRUE</code>, an extra package development folder will be
created
</td>
</tr>
<tr>
<td style="text-align:left;">
create_publication_proj
</td>
<td style="text-align:left;">
Create project with structure for publications
</td>
<td style="text-align:left;">
Should the folder structure be for a publication project?
</td>
<td style="text-align:left;">
If set to <code>TRUE</code>, extra publication specific folders will be
created
</td>
</tr>
<tr>
<td style="text-align:left;">
include_github_gitignore
</td>
<td style="text-align:left;">
Include a GitHub .gitignore file
</td>
<td style="text-align:left;">
Do you want to exclude certain files from being tracked by Git?
</td>
<td style="text-align:left;">
If set to <code>TRUE</code>, a GitHub .gitignore file will be created.
</td>
</tr>
</tbody>
</table>
<p>When using the ‘New Project Wizard’, you will be prompted to enter
these parameters manually by filling in provided boxes or ticking the
appropriate checkboxes. Regardless of the method you choose, you will
need to make a decision for each parameter to create the appropriate
type of project.</p>
</div>
</div>
<div class="section level2">
<h2 id="creating-a-project-using-code">Creating a project using code<a class="anchor" aria-label="anchor" href="#creating-a-project-using-code"></a>
</h2>
<p>Here is the basic code you will need to use, having installed
<code>dfeR</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dfeR</span><span class="fu">::</span><span class="fu"><a href="../reference/create_project.html">create_project</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="st">"C:/path/to/your/new/project"</span>,</span>
<span>  init_renv <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_structure_for_pkg <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  create_publication_proj <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  include_github_gitignore <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="example-use">Example use<a class="anchor" aria-label="anchor" href="#example-use"></a>
</h3>
<p>The below code will create a new project in the specified folder
path, with renv initialised, a publication project structure, and a
GitHub .gitignore file included.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the dfeR package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dfe-analytical-services.github.io/dfeR/">dfeR</a></span><span class="op">)</span></span>
<span><span class="co"># Create a new project with the desired parameters</span></span>
<span><span class="fu">dfeR</span><span class="fu">::</span><span class="fu"><a href="../reference/create_project.html">create_project</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="st">"C:/Users/JBLOGGS/repos/my-new-project"</span>,</span>
<span>  init_renv <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_structure_for_pkg <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  create_publication_proj <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_github_gitignore <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>You can view this by going to the location of the pathway you chose
in File Explorer. You should find your new project there, inside a
folder with the name you added at the end of your pathway, as below.</p>
<p><img src="../reference/figures/create_new_project_screenshot.png" fig-alt="Newly created contents of project folder in File Explorer.">
You will also need to think about what you want your project to be
called and include this in your file path. You can always amend this
later.</p>
<p>For example, if you want to create a project called “my-new-project”
in the folder you created above, your file path (with the username
changed to your username) would be
“C:/Users/JBLOGGS/repos/my-new-project”.</p>
<p>You can create a project in a different location, but you will need
to change the file path accordingly.</p>
<p>You can then open the project by double-clicking on the R project
file. You should be able to identify it, as it has an R symbol in a
cube, and the file type will be shown as ‘R Project’. If you have set
<code>create_publication_proj</code> to <code>FALSE</code>, you will
find your folders will look a little different to the above.</p>
<p>You can amend the file structure and names to suit the particular
project you are working on, using the file structure created as a
template.</p>
</div>
</div>
<div class="section level2">
<h2 id="creating-a-project-using-the-new-project-wizard">Creating a project using the ‘New Project Wizard’<a class="anchor" aria-label="anchor" href="#creating-a-project-using-the-new-project-wizard"></a>
</h2>
<p>If you are using RStudio, you can also create a new project using the
‘New Project Wizard’. This is a user-friendly way to set up a new
project without writing any code. To do this, follow these steps:</p>
<ol style="list-style-type: decimal">
<li><p>Open RStudio and go to ‘File’ &gt; ‘New Project’ &gt; ‘New
Directory’</p></li>
<li><p>Scroll down and click on ‘dfeR project template’.</p></li>
<li>
<p>Enter the name of your project under ‘Directory name’</p>
<ul>
<li>You can choose a location to save your project by clicking
‘Browse’.</li>
</ul>
</li>
<li>
<p>Decide whether you want to have a project structure specifically
for publications or a package.</p>
<ul>
<li>Leaving these both unticked will give you a project with a generic
analysis project structure.</li>
</ul>
</li>
<li><p>Decide whether you would like a GitHub .gitignore file by ticking
or unticking the box.</p></li>
<li><p>Click ‘Create Project’ to set up your new project.</p></li>
</ol>
<p><img src="../reference/figures/project_wizard_screenshot.png" fig-alt="'New Project Wizard' window with option to create dfeR project template open."></p>
<p>You can also access the ‘New Project Wizard’ by clicking on the
project that you are currently in, in the top-right hand corner and then
selecting ‘New Project’.</p>
<p>As above, you can access your new project by going to the location of
the pathway you chose in File Explorer. You should find your new project
there, inside a folder with the name you added as the directory
name.</p>
<div class="section level3">
<h3 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h3>
<p>You may hit an error if the <code>init_renv</code> parameter is not
set to FALSE. This initiates <code>renv</code> in the created project,
which is best practice. However, the <code>renv.lock</code> is set up to
record several packages (<code>rmarkdown</code>, <code>testthat</code>,
<code>renv</code>, <code>stringr</code>). You may get the following
error message, letting you know that none of these packages are
installed:</p>
<p><em>“None of the packages recorded in the lockfile are currently
installed.”</em></p>
<p>This can be rectified by executing <code>'renv::restore()'</code> in
your console, which will install those packages.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cam Race, Laura Selby, Adam Robinson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
